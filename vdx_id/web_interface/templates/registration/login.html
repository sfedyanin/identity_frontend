{% extends "ui_base.html" %}
{% load i18n staticfiles %}

{% block title %}Identify Login{% endblock %}

{% block sidebar %}
    <!-- <div style="padding:10px">
        <div class="alert alert-light" role="alert">
            <small>
            Login to this demo using your credentials
            </small>
        </div>
    </div> -->
    <li class="nav-item nav-category">HOME</li>

    <li class="nav-item">
        <a class="nav-link" href="{% url 'web:acm:home' %}">
                <i class="menu-icon typcn typcn-mail"></i>
                <span class="menu-title">Home</span>
        </a>
    </li>

    <li class="nav-item">
        <a class="nav-link" href="{% url 'web:acm:view_access' %}">
                <i class="menu-icon typcn typcn-mail"></i>
                <span class="menu-title">Access</span>
        </a>
    </li>

    {% if request.user.associated_identity %}
            <li class="nav-item">
                <a class="nav-link" href="{% url 'web:acm:my_access' %}">
                        <i class="menu-icon typcn typcn-mail"></i>
                        <span class="menu-title">My Access</span>
                </a>
            </li>

            <li class="nav-item">
                <a class="nav-link" href="{% url 'web:acm:access_approvals' %}">
                        <i class="menu-icon typcn typcn-mail"></i>
                        <span class="menu-title">Approvals
                            <span class="badge badge-info">{{pending_approvals}}</span>
                    </span>
                </a>
            </li>
    {% endif %}

    {% if request.user.is_staff %}
            <li class="nav-item nav-category">REPORTING</li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'web:acm:report_builder' %}">
                        <i class="menu-icon typcn typcn-mail"></i>
                        <span class="menu-title">Report Builder</span>
                </a>
            </li>

            <li class="nav-item">
                <a class="nav-link" href="{% url 'web:acm:sql_explorer' %}">
                        <i class="menu-icon typcn typcn-mail"></i>
                        <span class="menu-title">Data Exploration</span>
                </a>
            </li>
    {% endif %}

    <li class="nav-item nav-category">SYSTEM</li>
    <li class="nav-item">
        <a class="nav-link" href="{% url 'web:acm:map_visual' %}">
                <i class="menu-icon typcn typcn-mail"></i>
                <span class="menu-title">System Visualization</span>
        </a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="{% url 'web:acm:view_platforms' %}">
                <i class="menu-icon typcn typcn-mail"></i>
                <span class="menu-title">Platforms</span>
        </a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="{% url 'web:acm:view_servers' %}">
                <i class="menu-icon typcn typcn-mail"></i>
                <span class="menu-title">Server Groups</span>
        </a>
    </li>

    <li class="nav-item nav-category">API View</li>

    <li class="nav-item">
            <a class="nav-link test" data-toggle="collapse" href="#dashboard-dropdown" aria-expanded="false" aria-controls="dashboard-dropdown">
                    <i class="menu-icon typcn typcn-document-text"></i>
                    <span class="menu-title">Access</span>
                    <i class="menu-arrow"></i>
            </a>
            <div class="collapse" id="dashboard-dropdown">
                    <ul class="nav flex-column sub-menu">
                            <li class="nav-item">
                                    <a class="nav-link" href="{% url 'api:iam:id_access:group_request-list' %}">Access-Group Requests</a>
                            </li>
                            <li class="nav-item">
                                    <a class="nav-link" href="{% url 'api:iam:id_access:item_request-list' %}">Access-Item Requests</a>
                            </li>
                            <li class="nav-item">
                                    <a class="nav-link" href="{% url 'api:iam:id_access:item-list' %}">Access Items</a>
                            </li>
                            <li class="nav-item">
                                    <a class="nav-link" href="{% url 'api:iam:id_access:group-list' %}">Access Groups</a>
                            </li>
                    </ul>
            </div>
    </li>
    <li class="nav-item">
            <a class="nav-link" data-toggle="collapse" href="#page-layouts" aria-expanded="false" aria-controls="page-layouts">
                    <i class="menu-icon typcn typcn-archive"></i>
                    <span class="menu-title">Infrastructure</span>
                    <i class="menu-arrow"></i>
            </a>
            <div class="collapse" id="page-layouts">
                    <ul class="nav flex-column sub-menu">
                            <li class="nav-item">
                                    <a class="nav-link" href="{% url 'api:sys:id_platforms:platform-list' %}">Platforms</a>
                            </li>
                            <li class="nav-item">
                                    <a class="nav-link" href="{% url 'api:sys:id_servers:servergroup-list' %}">Server Groups</a>
                            </li>
                            <li class="nav-item">
                                    <a class="nav-link" href="{% url 'api:sys:id_servers:server-list' %}">Servers</a>
                            </li>
                            <li class="nav-item">
                                    <a class="nav-link" href="{% url 'api:sys:id_agents:agent-list' %}">Agents</a>
                            </li>
                            <li class="nav-item">
                                    <a class="nav-link" href="{% url 'api:sys:id_agents:agent_iface-list' %}">Agent Interfaces</a>
                            </li>
                            <li class="nav-item">
                                    <a class="nav-link" href="{% url 'api:sys:id_agents:agentwo-list' %}">Agent Tasks</a>
                            </li>
                    </ul>
            </div>
    </li>

    <li class="nav-item">
        <a class="nav-link" href="{% url 'api:sys:id_agents:agentwo-list' %}">
                <i class="menu-icon typcn typcn-mail"></i>
                <span class="menu-title">Tasks</span>
        </a>
    </li>

    <li class="nav-item">
        <a class="nav-link" href="#">
                <i class="menu-icon typcn typcn-mail"></i>
                <span class="menu-title">Help</span>
        </a>
    </li>
{% endblock %}

{% block content %}

<div class="container">
    <div class="d-flex align-content-end flex-wrap" style="padding-top:50px">
        <div class="card card-login mx-auto text-center">
            <div class="card-header">
                <h4>Demo Login</h4>
            </div>
            <div class="card-body">

                {% if form.errors %}
                    <div class="alert alert-danger" role="alert">
                        Your username and password didn't match. Please try again.
                    </div>
                {% endif %}

                {% if next %}
                    {% if user.is_authenticated %}
                        <div class="alert alert-warning" role="alert">
                            Your account doesn't have access to this page. To proceed,
                            please login with an account that has access.
                        </div>
                    {% else %}
                        <div class="alert alert-info" role="alert">
                            Please login to see this page
                        </div>
                    {% endif %}
                {% endif %}

                <form method="post" action="{% url 'login' %}">
                    {% csrf_token %}
                    <div class="input-group form-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">
                                <i class="fa fa-id-badge" aria-hidden="true"> Username </i>
                            </span>
                        </div>
                        <input type="text" name="username" required id="id_username" class="form-control" placeholder="Username">
                    </div>

                    <div class="input-group form-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">
                                <i class="fa fa-key" aria-hidden="true"> Password </i>
                            </span>
                        </div>
                        <input type="password" name="password" required id="id_password" class="form-control">
                        <input type="hidden" name="next" value="{{ next }}">
                    </div>

                    <div class="form-group">
                        <input type="submit" name="btn" value="login" class="btn btn-outline-success float-right login_btn">
                    </div>

                </form>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block script %}

{% endblock %}