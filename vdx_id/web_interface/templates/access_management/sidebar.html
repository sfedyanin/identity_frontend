{% load socialaccount %}

<!-- Top Navbar -> Left Sidebar :) -->
{% if user.is_authenticated %}
	<li class="nav-item px-3 mt-3">
  <a class="btn btn-outline-success w-100 " role="button" href="{% url 'web:acm:home' %}">Access Management</a>
	</li>
	<li class="nav-item px-3 mt-3">
  <a class="btn btn-outline-light w-100 " role="button" target="_api" href="/docs_api">REST API</a>
	</li>
	{% if user.is_staff %}
  <li class="nav-item px-3 mt-3">
  	<a class="btn btn-outline-warning w-100 " role="button" target="_admin" href="/admin">Administration</a>
  </li>
	{% endif %} 
{% else %}
	<li class="nav-item px-3 mt-3">
  <a class="btn btn-outline-info w-100 " role="button" target="_api" href="/docs_api">REST API</a>
	</li>
{% endif %}


<li class="nav-item nav-category">HOME</li>

<li class="nav-item">
	<a class="nav-link" href="{% url 'web:acm:home' %}">
  <i class="menu-icon typcn typcn-mail"></i>
  <span class="menu-title">Home</span>
	</a>
</li>

<li class="nav-item">
	<a class="nav-link" href="{% url 'web:acm:view_access' %}">
  <i class="menu-icon typcn typcn-mail"></i>
  <span class="menu-title">Access</span>
	</a>
</li>

{% if request.user.associated_identity %}
	<li class="nav-item">
  <a class="nav-link" href="{% url 'web:acm:my_access' %}">
  	<i class="menu-icon typcn typcn-mail"></i>
  	<span class="menu-title">My Access</span>
  </a>
	</li>

	<li class="nav-item">
  <a class="nav-link" href="{% url 'web:acm:access_approvals' %}">
  	<i class="menu-icon typcn typcn-mail"></i>
  	<span class="menu-title">Approvals
    <span class="badge badge-info">{{pending_approvals}}</span>
  	</span>
  </a>
	</li>
{% endif %}

{% if request.user.is_staff %}
	<li class="nav-item nav-category">REPORTING</li>
	<li class="nav-item">
  <a class="nav-link" href="{% url 'web:acm:report_builder' %}">
  	<i class="menu-icon typcn typcn-mail"></i>
  	<span class="menu-title">Report Builder</span>
  </a>
	</li>

	<li class="nav-item">
  <a class="nav-link" href="{% url 'web:acm:sql_explorer' %}">
  	<i class="menu-icon typcn typcn-mail"></i>
  	<span class="menu-title">Data Exploration</span>
  </a>
	</li>
{% endif %}

<li class="nav-item nav-category">SYSTEM</li>
<li class="nav-item">
	<a class="nav-link" href="{% url 'web:acm:map_visual' %}">
  <i class="menu-icon typcn typcn-mail"></i>
  <span class="menu-title">System Visualization</span>
	</a>
</li>
<li class="nav-item">
	<a class="nav-link" href="{% url 'web:acm:view_platforms' %}">
  <i class="menu-icon typcn typcn-mail"></i>
  <span class="menu-title">Platforms</span>
	</a>
</li>
<li class="nav-item">
	<a class="nav-link" href="{% url 'web:acm:view_servers' %}">
  <i class="menu-icon typcn typcn-mail"></i>
  <span class="menu-title">Server Groups</span>
	</a>
</li>

<li class="nav-item nav-category">API View</li>

<li class="nav-item">
	<a class="nav-link test" data-toggle="collapse" href="#dashboard-dropdown" aria-expanded="false" aria-controls="dashboard-dropdown">
  <i class="menu-icon typcn typcn-document-text"></i>
  <span class="menu-title">Access</span>
  <i class="menu-arrow"></i>
	</a>
	<div class="collapse" id="dashboard-dropdown">
  <ul class="nav flex-column sub-menu">
  	<li class="nav-item">
    <a class="nav-link" href="{% url 'api:iam:id_access:group_request-list' %}">Access-Group Requests</a>
  	</li>
  	<li class="nav-item">
    <a class="nav-link" href="{% url 'api:iam:id_access:item_request-list' %}">Access-Item Requests</a>
  	</li>
  	<li class="nav-item">
    <a class="nav-link" href="{% url 'api:iam:id_access:item-list' %}">Access Items</a>
  	</li>
  	<li class="nav-item">
    <a class="nav-link" href="{% url 'api:iam:id_access:group-list' %}">Access Groups</a>
  	</li>
  </ul>
	</div>
</li>
<li class="nav-item">
	<a class="nav-link" data-toggle="collapse" href="#page-layouts" aria-expanded="false" aria-controls="page-layouts">
  <i class="menu-icon typcn typcn-archive"></i>
  <span class="menu-title">Infrastructure</span>
  <i class="menu-arrow"></i>
	</a>
	<div class="collapse" id="page-layouts">
  <ul class="nav flex-column sub-menu">
  	<li class="nav-item">
    <a class="nav-link" href="{% url 'api:sys:id_platforms:platform-list' %}">Platforms</a>
  	</li>
  	<li class="nav-item">
    <a class="nav-link" href="{% url 'api:sys:id_servers:servergroup-list' %}">Server Groups</a>
  	</li>
  	<li class="nav-item">
    <a class="nav-link" href="{% url 'api:sys:id_servers:server-list' %}">Servers</a>
  	</li>
  	<li class="nav-item">
    <a class="nav-link" href="{% url 'api:sys:id_agents:agent-list' %}">Agents</a>
  	</li>
  	<li class="nav-item">
    <a class="nav-link" href="{% url 'api:sys:id_agents:agent_iface-list' %}">Agent Interfaces</a>
  	</li>
  	<li class="nav-item">
    <a class="nav-link" href="{% url 'api:sys:id_agents:agentwo-list' %}">Agent Tasks</a>
  	</li>
  </ul>
	</div>
</li>

<li class="nav-item">
	<a class="nav-link" href="{% url 'api:sys:id_agents:agentwo-list' %}">
  <i class="menu-icon typcn typcn-mail"></i>
  <span class="menu-title">Tasks</span>
	</a>
</li>

<li class="nav-item">
	<a class="nav-link" href="#">
  <i class="menu-icon typcn typcn-mail"></i>
  <span class="menu-title">Help</span>
	</a>
</li>

{% if user.is_authenticated %}
	<li class="nav-item px-3 mt-2 d-block d-lg-none">
  <a class="btn btn-outline-info w-100" role="button" href="{% url 'logout' %}">Logout ({{user}})</a>
	</li>
{% else %}
	<li class="nav-item px-3 mt-2 d-block d-lg-none">
  <a class="btn btn-outline-primary w-100" role="button" href="{% provider_login_url 'google' %}">Google Login</a>
	</li>
	<li class="nav-item px-3 mt-2 d-block d-lg-none">
  <a class="btn btn-outline-info w-100" role="button" href="{% url 'login' %}">Demo Login</a>
	</li>
{% endif %}
